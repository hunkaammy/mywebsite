<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>हिंदी में आवाज संज्ञान</title>
</head>
<body>
<h1>हिंदी में आवाज संज्ञान</h1>
<button id="startButton">शुरू करें</button>
<p id="output"></p>
<p id="sumOutput">कुल: 0</p> <!-- Initially, sum is 0 -->
<script>
const output = document.getElementById('output');
const sumOutput = document.getElementById('sumOutput');
const startButton = document.getElementById('startButton');
let sum = 0;

const recognition = new webkitSpeechRecognition() || new SpeechRecognition();
recognition.lang = 'hi-IN';
recognition.interimResults = true;

startButton.addEventListener('click', function() {
    output.innerHTML = '';
    sum = 0; // Reset sum when starting recognition
    updateSumOutput(); // Update sum output
    recognition.start();
    startButton.disabled = true;
});

recognition.onresult = function(event) {
    const transcript = event.results[event.results.length - 1][0].transcript.trim(); // Get the last recognized result
    output.innerHTML = 'आपने कहा: ' + transcript;
    const parsedValue = parseInt(transcript); // Parse the recognized speech
    if (!isNaN(parsedValue)) {
        sum += parsedValue;
        updateSumOutput(); // Update sum output
    }
};

recognition.onend = function() {
    startButton.disabled = false;
};

recognition.onerror = function(event) {
    output.innerHTML = 'त्रुटि हुई: ' + event.error;
};

function updateSumOutput() {
    sumOutput.innerHTML = 'कुल: ' + sum;
}

</script>
</body>
</html>
