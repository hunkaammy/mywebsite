<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>HINDUSTAN TOYS</title>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css'>
<link rel='stylesheet' href='https://fezvrasta.github.io/bootstrap-material-design/dist/css/bootstrap-material-design.css'>
<link rel='stylesheet' href='https://fezvrasta.github.io/bootstrap-material-design/dist/css/ripples.min.css'>

</head>

<script> history.pushState(null, null, location.href);
    window.onpopstate = function () {
        history.go(1);
    };
	</script>


<body>
<!-- partial:index.partial.html -->
<header data-header class="header">

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            text-align: center;
            
        }

        #login-container {
    background-image: url(https://hunkaammy.github.io/mywebsite/NEWWEBSITE/loginpg.jpeg);
    height: 648px;
    margin-top: -83px;
    max-width: 401px;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

 #inside {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #4caf50;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
     <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
</head>
<body>

<div id="login-container">
<div id="inside">
    <h2>WELCOME TO HINDUSTAN TOYS</h2>
    <input type="text" id="name" ng-model="dynamicField2Value" placeholder="Enter your shop name">
    <input type="tel" id="mobile" placeholder="Enter your mobile number">
    <button onclick="validateLogin()">Login</button>
</div> </div>

<div id="content" style="display: none;">



 <script type="text/javascript"> 
        window.history.forward(); 
        function noBack() { 
            window.history.forward(); 
        } 
    </script> 

<script>
  let inactivityTimeout;

  function resetInactivityTimer() {
    clearTimeout(inactivityTimeout);
    inactivityTimeout = setTimeout(refreshPage, 30 * 60 * 1000); // 5 minutes in milliseconds
  }

  function refreshPage() {
    location.reload(true); // Reload the page, forcing it to fetch the latest content from the server
  }

  // Add event listeners to detect user activity
  document.addEventListener('mousemove', resetInactivityTimer);
  document.addEventListener('keydown', resetInactivityTimer);
  document.addEventListener('touchstart', resetInactivityTimer);
  document.addEventListener('touchmove', resetInactivityTimer);

  // Start the inactivity timer when the page loads
  resetInactivityTimer();
</script>

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HINDUSTAN TOYS ORDER PORTAL</title>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>



<style>

body {
  overscroll-behavior-y: none;
  
}

html {
    font-size: 10px;
    -webkit-tap-highlight-color: rgba(0,0,0,0);
    background: white;
}



.card {
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
    width: 236px;
    margin-left: 98px;
    text-align: -webkit-center;
}

.card:hover {
  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
}

.containers {
    padding: 2px 0px;
    background: #F8F7FF;
}

.qtyclass {
    height: 40px;
    padding: 2px 16px;
    width: 66px;
    margin-right: 1px;
}

.submit
{
    -webkit-appearance: button;
    cursor: pointer;
    BACKGROUND: #5A55A3;
    COLOR: WHITE;
    WIDTH: 86PX;
    height: 40px;
    margin-left: 10px;
}

.btn-primary  {
    text-align: left;
    Z-INDEX: 1;
    top: 90%;
    left: 74%;
    color: #fff;
    background-color: #337ab7;
    border-color: #2e6da4;
    position: fixed;
}

p {
    
}
button, input, select, textarea {
    font-family: inherit;
    margin-top: 17px;
    font-size: inherit;
    color: black;
    line-height: inherit;
}

.header {
    margin-top: 82px;
    .logout-button,: ;
}

  &.state-logged-in {
    .logout-button, 
    .welcome {
      display: block;
    }    
  }
  
}

.user-authorization {
    padding: 10px;
    margin-top: 20px;
    background-color: #DDD;
}

  .login-form {
    &.state-hidden {
      display: none;
    }
  }

  .login-user {
    &.state-hidden {
      display: none;
    }
  }

}



// DEMO Purposes only
* {
  font-family: sans-serif;
}
</style>


 <style>
        /* Style for the navbar */
        .navbar {
    background-color: #5A55A3;
    padding: 7px;
    color: white;
    position: fixed;
    width: 100%;
    top: -16px;
    z-index: 1000;
}

        /* Style for the search input */
        #searchInput {
            margin-top: 60px; /* Adjust the margin as needed */
            padding: 10px;
            width: 80%;
        }

        /* Style for the container */
        .container {
            margin-top: 12px; /* Adjust the margin-top based on your content height */
        }

        /* Your existing card styles */
        #containers {
    margin-bottom: 18px;
    MARGIN-TOP: -14px;
}

        .card {
		
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 8px;
        }

        .containers {
            margin-top: 10px;
        }

        .qtyclass {
            width: 60px;
        }

        .submit  {
    background-color: #5A55A3;
    color: white;
    /* padding: 10px 15px; */
    border: none;
    border-radius: 5px;
    cursor: pointer;
}
    </style>
	
	<style>
	img {
  display: block;
  margin: 10px auto;
  opacity: 1;
  transform: scale(1.2);
  transition: all .25s;
      width: 177px;
    height: 200px;
  &.loaded {
    opacity: 1;
    transform: none;
  }
}


	</style>

</head>
<body>
<!-- partial:index.partial.html -->
<!DOCTYPE html>
<html ng-app="myApp">

<head>
    <title>Dynamically Submit Form</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.2.0/firebase-database.js"></script>
</head>

  </script>

<body ng-controller="imagesController as vm">



    <!-- New input field for dynamic ng-value -->
 
    <input type="hidden" ng-model="dynamicField2Value" placeholder="enter name" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyload/1.9.7/jquery.lazyload.js"></script>


<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div class="container mt-3">

  
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
    Your order
  </button>
</div>

<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">{{dynamicField2Value}} your order list</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal">Close</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        
<object data="https://hunkaammy.github.io/mywebsite/NEWWEBSITE/order1#myInput={{dynamicField2Value}}" width="300" height="400"> 
    <embed src="https://hunkaammy.github.io/mywebsite/cart#myInput=samrat" width="229" height="229"> </embed> 
    Error: Embedded data could not be displayed. 
</object>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>


</body>
</html>

<style>
    .tab-btns  {
    font-size: 11px;
    position: fixed;
    width: 96px;
    overflow: auto;
    z-index: 1;
    HEIGHT: 100%;
    display: block;
    flex-direction: column;
    background-color: white;
    padding: 10px;
    /* border: darkorange; */
    bottom: -58px;
    padding: 10pz;
}
    .tab-btn {
        padding: 10px;
        margin-bottom: 5px;
        text-align: left;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .tab-btn:hover {
        background-color: #ddd;
    }

    .tab-btn.active {
    background-color: #5A55A3;
    color: white;
    border-radius: 12px;
}
</style>



<div class="navbar">
    <!-- Your existing navbar content here -->
	<button onclick="startVoiceRecognition()">Start Voice Recognition</button>

   <input type="text" onclick="scrollToTop()" ng-model="searchQuery" placeholder="Search by product" id="topBtn" ng-click="productNameFilter = ''; activeTab = 0; searchQuery = '';"> <br>
  
</div>

<script>
function startVoiceRecognition() {
    const recognition = new webkitSpeechRecognition() || new SpeechRecognition();
    recognition.lang = 'en-US';
    
    recognition.onresult = function (event) {
        const transcript = event.results[0][0].transcript;
        document.getElementById('topBtn').value = transcript;
    };
    
    recognition.start();
}
</script>

  <div class="tab-btns" onclick="scrollToTop()">
  <div class="tab-btn"  ng-click="productNameFilter = ''; activeTab = 0; searchQuery = '';" ng-class="{ 'active': activeTab === 0 }">ALL PRODUCTS</div>
  <div class="tab-btn" ng-click="productNameFilter = 'STATIONERY'; activeTab = 1; searchQuery = '';" ng-class="{ 'active': activeTab === 1 }">STATIONERY ITEMS</div>
  <div class="tab-btn" ng-click="productNameFilter = 'INDIAN TOYS'; activeTab = 2; searchQuery = '';" ng-class="{ 'active': activeTab === 2 }">INDIAN TOYS</div>
  <div class="tab-btn" ng-click="productNameFilter = 'BLOCKS'; activeTab = 3; searchQuery = '';" ng-class="{ 'active': activeTab === 3 }">BLOCKS</div>
  <div class="tab-btn" ng-click="productNameFilter = 'RATTELS & CHUCHU'; activeTab = 4; searchQuery = '';" ng-class="{ 'active': activeTab === 4 }">RATTELS AND CHUCHU</div>
		<div class="tab-btn" ng-click="productNameFilter = 'PALNA WALKER'; activeTab = 5; searchQuery = '';" ng-class="{ 'active': activeTab === 5 }">WALKER & PALNA</div>
        <div class="tab-btn" ng-click="productNameFilter = 'RACKET'; activeTab = 6; searchQuery = '';" ng-class="{ 'active': activeTab === 6 }">RACKET</div>
        <div class="tab-btn" ng-click="productNameFilter = 'REMOTE'; activeTab = 7; searchQuery = '';" ng-class="{ 'active': activeTab === 7 }">REMOTE CAR</div>
        <div class="tab-btn" ng-click="productNameFilter = 'DOLL'; activeTab = 8; searchQuery = '';" ng-class="{ 'active': activeTab === 8 }">DOLL</div>
        <div class="tab-btn" ng-click="productNameFilter = 'MIX'; activeTab = 9; searchQuery = '';" ng-class="{ 'active': activeTab === 9 }">MIX TOYS</div>
        <div class="tab-btn" ng-click="productNameFilter = 'LUMO'; activeTab = 10; searchQuery = '';" ng-class="{ 'active': activeTab === 10 }">LUMO PRODUCTS</div>
		<div class="tab-btn" ng-click="productNameFilter = 'RIDDER'; activeTab = 11; searchQuery = '';" ng-class="{ 'active': activeTab === 11 }">MAGIC RIDDER</div>
		<div class="tab-btn" ng-click="productNameFilter = 'FANCY'; activeTab = 12; searchQuery = '';" ng-class="{ 'active': activeTab === 12 }">FANCY ITEMS</div>
		<div class="tab-btn" ng-click="productNameFilter = 'BATTERY'; activeTab = 13; searchQuery = '';" ng-class="{ 'active': activeTab === 13 }">BATTERY OPERATED</div>
		
		<div class="tab-btn" ng-click="productNameFilter = 'DOZEN'; activeTab = 14; searchQuery = '';" ng-class="{ 'active': activeTab === 14 }">DOZEN PACKING ITEMS</div>
		<div class="tab-btn" ng-click="productNameFilter = 'GUN'; activeTab = 15; searchQuery = '';" ng-class="{ 'active': activeTab === 15 }">GUNS VARIETY</div>
		<div class="tab-btn" ng-click="productNameFilter = 'GUN'; activeTab = 16; searchQuery = '';" ng-class="{ 'active': activeTab === 16 }">EMPTY</div>
    </div>

<div ng-repeat="image in vm.images | orderBy: '-date' | filter: { name: productNameFilter } | filter:searchQuery">
    <div id="containers" ng-if="!image.outOfStock">
        <div class="card">
            <img src="{{image.url}}" loading="lazy" width="350" height="350">
            <div class="containers">
                <h4><b> ITEM NO.{{$index+1}}</b></h4>
                <p>{{image.name}}</p>
                
                <input type="hidden" id="{{'inputa' + $index}}" ng-model="image.url">
                <input type="hidden" id="{{'inputb' + $index}}" placeholder="Field 2" ng-model="dynamicField2Value">

                <!-- Add this input field inside the card section -->
                <input type="number" class="qtyclass" id="{{'inputc' + $index}}" placeholder="Qty" ng-model="image.field3">
                <button class="submit" id="submitButton{{$index}}" ng-click="submitData(image, $index); buttonText='ADDED ? '" ng-bind="buttonText || 'Submit'"></button>
            </div>
        </div>
    </div>
</div>

 <!--<button id="topBtn" onclick="scrollToTop()">Top</button>-->



    <script>
        // JavaScript to handle scrolling
        function scrollToTop() {
            document.body.scrollTop = 0; // For Safari
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE, and Opera
        }

        // Your existing script here
        const images = document.querySelectorAll('img');

        for (let img of images) {
            img.onload = ({ target }) => setTimeout(() => { target.classList.add('loaded') }, 200)
        }
    </script>
 <br><br>
    </div> </div>
</div><br><br>

<script>
const images = document.querySelectorAll('img');

for(let img of images) {
  img.onload = ({target}) => setTimeout(() => {target.classList.add('loaded')}, 200)
}

</script>







    <script>
        var app = angular.module('myApp', ['firebase']);

        app.controller('imagesController', function ($scope, $firebaseArray) {
            $scope.vm = this;
            $scope.vm.images = [];
            $scope.dynamicField2Value = ""; // Set your default dynamic value

            var firebaseConfigFetch = {
                  apiKey: "AIzaSyAvlig_xWJNP1hFsl4qfisC01VTkOAVhT8",
  authDomain: "htshop-e9c51.firebaseapp.com",
  databaseURL: "https://htshop-e9c51-default-rtdb.firebaseio.com",
  projectId: "htshop-e9c51",
  storageBucket: "htshop-e9c51.appspot.com",
  messagingSenderId: "653137640907",
  appId: "1:653137640907:web:672fd6a9e85ca448a70a4e",
  measurementId: "G-FJ4Q0FHBEG"
            };

            var firebaseConfigSubmit = {
                apiKey: "AIzaSyAMFjDnZaszneoR6nO8bmXUxwZJplLvNfU",
  authDomain: "notes-12519.firebaseapp.com",
  databaseURL: "https://notes-12519-default-rtdb.firebaseio.com",
  projectId: "notes-12519",
  storageBucket: "notes-12519.appspot.com",
  messagingSenderId: "1073774450189",
  appId: "1:1073774450189:web:0b6d4a9f95823abbf36744",
  measurementId: "G-GZXYCJ33TR"
            };

            var firebaseFetch = firebase.initializeApp(firebaseConfigFetch, 'fetchApp');
            var firebaseSubmit = firebase.initializeApp(firebaseConfigSubmit, 'submitApp');

            var storageServiceFetch = firebaseFetch.storage();
            var databaseFetch = firebaseFetch.database().ref();
            var listFetch = $firebaseArray(databaseFetch);
            $scope.vm.images = listFetch;

            var storageServiceSubmit = firebaseSubmit.storage();
            var databaseSubmit = firebaseSubmit.database().ref();
            var listSubmit = $firebaseArray(databaseSubmit);
			
			

  $scope.submitData = function (image, index) {
    var inputa = image.url;
    var inputb = $scope.dynamicField2Value;
    var inputc = image.field3;
    var inputName = image.name; // Add this line
    var inputoutofstock = image.outOfStock; // Add this line

    var newDataKey = databaseSubmit.push().key;

    databaseSubmit.child(newDataKey).set({
        field1: inputa,
        field2: inputb,
        field3: inputc,
        productName: inputName // Add this line
    });
};

            $scope.image = function (event) {
                event.preventDefault();
                var file = event.target.files[0];
                uploadImage(file);
            };

            function uploadImage(file) {
                var random = parseInt(Math.random() * 1000000);
                var refStorageSubmit = storageServiceSubmit.ref('uploads').child(random.toString()).child(file.name);
                var uploadTask = refStorageSubmit.put(file);

                uploadTask.on('state_changed', null, function (error) {
                    console.error('Upload error:', error);
                }, function () {
                    var imageData = {
                        url: uploadTask.snapshot.ref.getDownloadURL(),
                        bytes: uploadTask.snapshot.totalBytes,
                        name: uploadTask.snapshot.metadata.name,
						outOfStock: uploadTask.snapshot.metadata.outOfStock,
                        path: uploadTask.snapshot.ref.fullPath,
                        date: uploadTask.snapshot.metadata.timeCreated
                    };

                    listSubmit.$add(imageData).then(function (ref) {
                        swal("Success", "Your image has been uploaded", "success");
                    });
                });
            }
        });
    </script>

    <script>
        (function () {
            'use strict';

            angular
                .module('myApp')
                .directive('customOnChange', customOnChange);

            function customOnChange() {
                return {
                    restrict: 'A',
                    link: function (scope, element, attrs) {
                        var onChangeHandler = scope.$eval(attrs.customOnChange);
                        element.bind('change', onChangeHandler);
                    }
                };
            }
        })();
    </script>

</body>

</html>
<!-- partial -->
  <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js'></script>
<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>
<script src='https://fezvrasta.github.io/bootstrap-material-design/dist/js/material.min.js'></script>
<script src='https://fezvrasta.github.io/bootstrap-material-design/dist/js/ripples.min.js'></script>
<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js'></script>
<script src='https://www.gstatic.com/firebasejs/3.4.1/firebase.js'></script>
<script src='https://cdn.firebase.com/libs/angularfire/2.1.0/angularfire.min.js'></script>
</body>
</html>




</div>

</header>





<script>
$('document').ready(function(){
  
  $('[data-login-button], [data-logout-button]').click(function(){
    $('[data-login-form], [data-login-user]').toggleClass('state-hidden');
    $('[data-header]').toggleClass('state-logged-in');
  });
  
});
</script>
<!-- partial -->
  <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js'></script>
<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>
<script src='https://fezvrasta.github.io/bootstrap-material-design/dist/js/material.min.js'></script>
<script src='https://fezvrasta.github.io/bootstrap-material-design/dist/js/ripples.min.js'></script>
<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js'></script>
<script src='https://www.gstatic.com/firebasejs/3.4.1/firebase.js'></script>
<script src='https://cdn.firebase.com/libs/angularfire/2.1.0/angularfire.min.js'></script>
</body>
</html>

  </div>

   
</body>
</html>

</div>

<script>
    var firebaseConfig = {
        apiKey: "AIzaSyAr8dYBz_D1DVnGfT_fQhTwD1YmtTvuzMk",
        authDomain: "shop-reminder-3ce10.firebaseapp.com",
        databaseURL: "https://shop-reminder-3ce10-default-rtdb.firebaseio.com",
        projectId: "shop-reminder-3ce10",
        storageBucket: "shop-reminder-3ce10.appspot.com",
        messagingSenderId: "555627569260",
        appId: "1:555627569260:web:3948ae391eab6eb5ea7849",
        measurementId: "G-BP5EYR6ET1"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // Array of allowed IP addresses
    var allowedIPs = ['110.224.182.77', '110.224.183.135', '192.168.1.3'];

    // Function to validate login
    function validateLogin() {
        // Get user input
        var name = document.getElementById('name').value.trim();
        var mobile = document.getElementById('mobile').value.trim();

        // Check if name and mobile are provided
        if (name === '' || mobile === '') {
            alert('Please enter both name and mobile number.');
            return;
        }

        // Get user IP address
        getUserIPAddress()
            .then(function(ipAddress) {
                // Check if the user's IP is in the allowed list
                if (allowedIPs.includes(ipAddress)) {
                    // Redirect to another page for allowed IPs
                    window.location.href = 'https://hunkaammy.github.io/mywebsite/NEWWEBSITE/blocked.html';
                } else {
                    // Create a reference to your Firebase database
                    var database = firebase.database();
                    
                    // Push user data to Firebase with timestamp
                    var userRef = database.ref('users').push({
                        name: name,
                        mobile: mobile,
                        ipAddress: ipAddress,
                        timestamp: firebase.database.ServerValue.TIMESTAMP
                    });

                    // Hide login container and show content
                    document.getElementById('login-container').style.display = 'none';
                    document.getElementById('content').style.display = 'block';
                }
            })
            .catch(function(error) {
                console.error('Error fetching IP address:', error);
            });
    }

    // Function to get user IP address using ipify
    function getUserIPAddress() {
        return fetch('https://api.ipify.org?format=json')
            .then(function(response) {
                return response.json();
            })
            .then(function(data) {
                return data.ip;
            });
    }
</script>

</body>
</html>